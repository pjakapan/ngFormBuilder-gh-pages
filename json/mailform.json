{
    "_id": "5a124e0ebe414f000190c170",
    "machineName": "kegoilcdymkwamk:mail",
    "modified": "2017-11-21T03:28:23.690Z",
    "title": "Mail",
    "display": "form",
    "name": "mail",
    "path": "mailform",
    "project": "5a124dceeb180900018bd3ee",
    "created": "2017-11-20T03:37:50.503Z",
    "components": [
        {
            "lockKey": true,
            "properties": {
                "": ""
            },
            "conditional": {
                "eq": "",
                "when": null,
                "show": ""
            },
            "tags": [],
            "breadcrumb": "default",
            "type": "panel",
            "components": [
                {
                    "lockKey": true,
                    "properties": {
                        "": ""
                    },
                    "conditional": {
                        "eq": "",
                        "when": null,
                        "show": ""
                    },
                    "tags": [],
                    "type": "email",
                    "kickbox": {
                        "enabled": false
                    },
                    "clearOnHide": true,
                    "hidden": false,
                    "persistent": true,
                    "unique": false,
                    "protected": false,
                    "defaultValue": "",
                    "suffix": "",
                    "prefix": "",
                    "placeholder": "",
                    "key": "panelFrom",
                    "label": "From",
                    "inputType": "email",
                    "tableView": true,
                    "input": true
                },
                {
                    "properties": {
                        "": ""
                    },
                    "tags": [],
                    "type": "textfield",
                    "conditional": {
                        "eq": "",
                        "when": null,
                        "show": ""
                    },
                    "validate": {
                        "customPrivate": false,
                        "custom": "",
                        "pattern": "",
                        "maxLength": "",
                        "minLength": "",
                        "required": false
                    },
                    "clearOnHide": true,
                    "hidden": false,
                    "persistent": true,
                    "unique": false,
                    "protected": false,
                    "defaultValue": "",
                    "multiple": false,
                    "suffix": "",
                    "prefix": "",
                    "placeholder": "",
                    "key": "panelTo",
                    "label": "To",
                    "inputMask": "",
                    "inputType": "text",
                    "tableView": true,
                    "input": true
                },
                {
                    "properties": {
                        "": ""
                    },
                    "tags": [],
                    "type": "textfield",
                    "conditional": {
                        "eq": "",
                        "when": null,
                        "show": ""
                    },
                    "validate": {
                        "customPrivate": false,
                        "custom": "",
                        "pattern": "",
                        "maxLength": "",
                        "minLength": "",
                        "required": false
                    },
                    "clearOnHide": true,
                    "hidden": false,
                    "persistent": true,
                    "unique": false,
                    "protected": false,
                    "defaultValue": "",
                    "multiple": false,
                    "suffix": "",
                    "prefix": "",
                    "placeholder": "",
                    "key": "panelSubject",
                    "label": "Subject",
                    "inputMask": "",
                    "inputType": "text",
                    "tableView": true,
                    "input": true
                },
                {
                    "properties": {
                        "": ""
                    },
                    "tags": [],
                    "type": "textfield",
                    "conditional": {
                        "eq": "",
                        "when": null,
                        "show": ""
                    },
                    "validate": {
                        "customPrivate": false,
                        "custom": "",
                        "pattern": "",
                        "maxLength": "",
                        "minLength": "",
                        "required": false
                    },
                    "clearOnHide": true,
                    "hidden": false,
                    "persistent": true,
                    "unique": false,
                    "protected": false,
                    "defaultValue": "",
                    "multiple": false,
                    "suffix": "",
                    "prefix": "",
                    "placeholder": "",
                    "key": "panelAttachment",
                    "label": "Attachment",
                    "inputMask": "",
                    "inputType": "text",
                    "tableView": true,
                    "input": true
                },
                {
                    "properties": {
                        "": ""
                    },
                    "conditional": {
                        "eq": "",
                        "when": null,
                        "show": ""
                    },
                    "tags": [],
                    "type": "textarea",
                    "validate": {
                        "custom": "",
                        "pattern": "",
                        "maxLength": "",
                        "minLength": "",
                        "required": false
                    },
                    "clearOnHide": true,
                    "wysiwyg": {
                        "width": "100%",
                        "height": "400px",
                        "uiColor": "#eeeeee",
                        "removeButtons": "Cut,Copy,Paste,Underline,Subscript,Superscript,Scayt,About",
                        "extraPlugins": "justify,font",
                        "toolbarGroups": [
                            {
                                "groups": [
                                    "basicstyles",
                                    "cleanup"
                                ],
                                "name": "basicstyles"
                            },
                            {
                                "groups": [
                                    "list",
                                    "indent",
                                    "blocks",
                                    "align",
                                    "bidi",
                                    "paragraph",
                                    "-",
                                    "JustifyLeft",
                                    "JustifyCenter",
                                    "JustifyRight",
                                    "JustifyBlock"
                                ],
                                "name": "paragraph"
                            },
                            {
                                "groups": [
                                    "links"
                                ],
                                "name": "links"
                            },
                            {
                                "groups": [
                                    "insert"
                                ],
                                "name": "insert"
                            },
                            "/",
                            {
                                "groups": [
                                    "Styles",
                                    "Format",
                                    "Font",
                                    "FontSize"
                                ],
                                "name": "styles"
                            },
                            {
                                "groups": [
                                    "colors"
                                ],
                                "name": "colors"
                            },
                            {
                                "groups": [
                                    "clipboard",
                                    "undo"
                                ],
                                "name": "clipboard"
                            },
                            {
                                "groups": [
                                    "find",
                                    "selection",
                                    "spellchecker",
                                    "editing"
                                ],
                                "name": "editing"
                            },
                            {
                                "groups": [
                                    "mode",
                                    "document",
                                    "doctools"
                                ],
                                "name": "document"
                            },
                            {
                                "groups": [
                                    "others"
                                ],
                                "name": "others"
                            },
                            {
                                "groups": [
                                    "tools"
                                ],
                                "name": "tools"
                            }
                        ]
                    },
                    "hidden": false,
                    "persistent": true,
                    "protected": false,
                    "defaultValue": "",
                    "multiple": false,
                    "rows": 3,
                    "suffix": "",
                    "prefix": "",
                    "placeholder": "",
                    "key": "panelTextareaField",
                    "label": "",
                    "tableView": true,
                    "input": true
                }
            ],
            "tableView": false,
            "theme": "default",
            "title": "mail form",
            "input": false,
            "key": "panel"
        },
        {
            "properties": {
                "": ""
            },
            "conditional": {
                "eq": "",
                "when": null,
                "show": ""
            },
            "tags": [],
            "type": "button",
            "theme": "primary",
            "disableOnInvalid": false,
            "action": "custom",
            "block": false,
            "rightIcon": "",
            "leftIcon": "",
            "size": "md",
            "key": "submit",
            "tableView": false,
            "label": "Submit",
            "input": true,
            "custom": "var url = window.location.href;\nvar id_token = getParameterByName('id_token',url);\nvar settings = {\n  \"async\": true,\n  \"crossDomain\": true,\n  \"url\": \"https://togetherservice.azurewebsites.net/api/callsp\",\n  \"method\": \"POST\",\n  \"headers\": {\n    \"content-type\": \"application/json\",\n    \"authorization\": \"Bearer \"+id_token,\n    \"cache-control\": \"no-cache\"\n  },\n  \"processData\": false,\n  \"data\": \"{\\n    \\\"sender\\\": \\\"\"+ form.submission.data.panelFrom +\"\\\",\\n    \\\"receiver\\\": \\\"\"+ form.submission.data.panelTo +\"\\\",\\n    \\\"subject\\\": \\\"\"+ form.submission.data.panelSubject +\"\\\",\\n    \\\"attachment_url\\\": \\\"\"+ form.submission.data.panelAttachment +\"\\\",\\n    \\\"body\\\": \\\"\"+ form.submission.data.panelTextareaField +\"\\\"\\n}\"\n}\n\n$.ajax(settings).done(function () {  \nform.setAlert('success', 'The mail has been sent successfully.');\nalert( 'The mail has been sent successfully.');\nform.reset();\nform.render();\nconsole.log(\"success\");   \n}).fail(function (error){\nform.setAlert('danger',  'Unsent the email');\n});"
        }
    ],
    "owner": "59b0f3b82f12080007486f7a",
    "submissionAccess": [],
    "access": [
        {
            "type": "read_all",
            "roles": [
                "5a124dceeb180900018bd3ef",
                "5a124dceeb180900018bd3f0",
                "5a124dceeb180900018bd3f1"
            ]
        }
    ],
    "tags": [],
    "type": "form"
}